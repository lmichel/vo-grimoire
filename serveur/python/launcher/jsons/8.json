{
    "from": "Laurent MICHEL <laurent.michel@astro.unistra.fr>",
    "body": "A afficher comme du code\r\n-- \r\n---- English version:\r\n      https://www.deepl.com/\r\n\r\n---- Laurent MICHEL              Tel  (33 0) 3 68 85 24 37\r\n      Observatoire de Strasbourg  Fax  (33 0) 3 68 85 24 32\r\n      11 Rue de l'Universite      Mail laurent.michel@astro.unistra.fr\r\n      67000 Strasbourg (France)   Web  http://astro.u-strasbg.fr/~michel\r\n---\r\n",
    "in-reply-to": "none",
    "timestamp": 1590495244.0,
    "id": "<eb8dc2a6-0bc4-eded-6f4d-3f1cd2246657@astro.unistra.fr>",
    "references": "none",
    "subject": "LATEX",
    "data": "none",
    "to": "cisternino enzo <enzo_cisternino@hotmail.fr>",
    "num": "test9",
    "maillist": "test",
    "numThread": -1,
    "attachements": {
        "application/x-tex__0": "\\documentclass[11pt,a4paper]{ivoa}\r\n\\input tthdefs\r\n\r\n\\title{Mango: A Component and Association Based Model for Source Data}\r\n\r\n% see ivoatexDoc for what group names to use here\r\n\\ivoagroup{DM}\r\n\r\n\r\n\\author{Fran=C3=A7ois Bonnarel}\r\n\\author{Gilles Landais}\r\n\\author{Laurent Michel}\r\n\\author{Jesus Salgado}\r\n\\author{Mireille Louys}\r\n\\author{Marco Molinaro}\r\n\r\n\\editor{Laurent Michel}\r\n\r\n% \\previousversion[????URL????]{????Concise Document Label????}\r\n\\previousversion{This is the first public release}\r\n      =20\r\n\r\n\\begin{document}\r\n\\begin{abstract}\r\nThe Mango model proposes a flexible way to make source data interoperable. =\r\nIt takes into account the huge diversity of source data in term of both for=\r\nmat and usage.=20\r\nEach Mango source is defined by an identifier on which  one can attach a se=\r\nt of parameters and a set of associated data. Parameters are modeled by  MC=\r\nT both native and extended classes. Their roles are given by UCDs and seman=\r\ntic tags.\r\nAssociated data can be simple URLs, VO service endpoints or VO data model i=\r\nnstances. Their roles are given by semantic tags.\r\n\r\n\r\n\r\n\\end{abstract}\r\n\r\n\r\n\\section*{Acknowledgments}\r\n\r\nWe would like to thank all those who took the time to present their own use=\r\n cases (INAF, CDS, CFA, ESAC) on which the model has been built.\r\n\r\nWe would also like to thank all the people having tested Mango on their own=\r\n data.\r\n\r\n\r\nWe would like to thank all those who took the time to present their own use=\r\n cases (INAF, CDS, CFA, ESAC) on which the model has been built.\r\nWe would also like to thank all the people having tested Mango on their own=\r\n data.\r\n\r\n\\section*{Model Name}\r\nThis model was initialy named with a very explicit but hard to remember acr=\r\nonym, \\texttt{CAB-MSD} standing for Component and Association Based Model f=\r\nor Source Data. We decided later to rename it \\texttt{Mango} with reference=\r\n to the inside out mango picture used to introduce the model in Groningen. =\r\nAs the tradition requires that such unexpected names are acronyms, let's as=\r\nsume that \\texttt{Mango} stands for Model Adding Necessaries to Generic Obj=\r\nects\r\n\r\n\r\n\\section*{Conformance-related definitions}\r\n\r\nThe words ``MUST'', ``SHALL'', ``SHOULD'', ``MAY'', ``RECOMMENDED'', and\r\n``OPTIONAL'' (in upper or lower case) used in this document are to be\r\ninterpreted as described in IETF standard RFC2119 \\citep{std:RFC2119}.\r\n\r\nThe \\emph{Virtual Observatory (VO)} is a\r\ngeneral term for a collection of federated resources that can be used\r\nto conduct astronomical research, education, and outreach.\r\nThe \\href{http://www.ivoa.net}{International\r\nVirtual Observatory Alliance (IVOA)} is a global\r\ncollaboration of separately funded projects to develop standards and\r\ninfrastructure that enable VO applications.\r\n\r\n\r\n\\section{Introduction}\r\n\r\nThe source DM is a long term concern for the DM working group and more gene=\r\nrally for the IVOA.\r\nIn the past years, there were some proposals to design a global model for s=\r\nources \\citep{wd:jesusdm} of for catalogs \\citep{wd:catalog}.\r\nOther proposals, more model-agnostic, were focused on the data annotation i=\r\nn VOTables \\citep{note:stcvot} \\citep{note:seb}. In this case the goal was =\r\nno longer to design a source model but to provide a complete description of=\r\n  individual quantities (positions, velocity=E2=80=A6).\r\nNone of these proposals have come to completion\r\n\r\nThe source DM issue resurfaced at the spring 2018 Interop in Victoria durin=\r\ng an hands-on session focused on the tools available to work with VO data m=\r\nodels and especially with VO-DML. The goal of this session was to annotate =\r\ndata from different origins in order to make them interoperable with each o=\r\nther. The main concern expressed during this session was not related to the=\r\n tools themselves but to the lack of models for sources.=20\r\nThis is a big paradox in the VO world ; source data which represent the bas=\r\nic bricks of the astronomer work, have no model. This paradox can be explai=\r\nned by the fact that sources data are multifaceted. The way of which source=\r\n data are organized depends on the survey they come from, one the way they =\r\nhave been generated  and on the expected use. In a more general way, it dep=\r\nends on the science we want to do with them. This diversity cannot be endor=\r\nsed by a single model. Having a global source model would lead to a very co=\r\nmplex solution not usable in practice.\r\n\r\nThis standard proposes to overcome this paradox presenting model based on i=\r\nndependent components and associated data that can be embedded on demand in=\r\n a container.\r\n\r\n\r\n\\subsection{Role within the VO Architecture}\r\n\r\n\\begin{figure}\r\n\\centering\r\n\r\n% As of ivoatex 1.2, the architecture diagram is generated by ivoatex in\r\n% SVG; copy ivoatex/archdiag-full.xml to archdiag.xml and throw out\r\n% all lines not relevant to your standard.\r\n% Notes don't generally need this.  If you don't copy archdiag.xml,\r\n% you must remove archdiag.svg from FIGURES in the Makefile.\r\n\r\n\\includegraphics[width=3D0.9\\textwidth]{role_diagram.pdf}\r\n\\caption{Architecture diagram for this document}\r\n\\label{fig:archdiag}\r\n\\end{figure}\r\n\r\nFig.~\\ref{fig:archdiag} shows the role this document plays within the\r\nIVOA architecture \\citep{note:VOARCH}.\r\n\r\n\r\n\r\n\\section{Use Cases and  Requirements}\r\n\r\n\\subsection{Use Cases}\r\nThe use case below have been collected in 2019 they were collected from rep=\r\nresentative of the missions, archive or tools.\r\n\r\n\\subsubsection{Gaia}\r\n\\begin{itemize}\r\n    \\item identifier\r\n    \\item reference position\r\n    \\item proper motion\r\n    \\item parallax and distance\r\n    \\item correlation,\r\n    \\item source extension\r\n    \\item radial velocity\r\n    \\item redshift\r\n    \\item luminosity\r\n    \\item date\r\n    \\item multiple detection\r\n\\end{itemize}\r\n\r\n\r\n\\subsubsection{Euclid}\r\n\\begin{itemize}   =20\r\n    \\item identifier\r\n    \\item position\r\n    \\item correlation with Gaia\r\n    \\item photometry (ground + sat),\r\n    \\item morphology\r\n    \\item redshift\r\n    \\item photometric redshift\r\n\\end{itemize}\r\n\r\n\\subsubsection{Exoplanets}\r\n\\begin{itemize}\r\n    \\item position\r\n    \\item orbit\r\n    \\item different source level(star, planet, moon)\r\n    \\item status and classification\r\n    \\item orbiting system description\r\n\\end{itemize}\r\n\r\n\\subsubsection{Morphologically Complex Structures}\r\n\\begin{itemize}   =20\r\n    \\item morphology\r\n\\end{itemize}\r\n\r\n\\subsubsection{Chandra}=20\r\nAll quantities are time dependant,\r\nDependant on calibration + physical\r\nmodel\r\n\\begin{itemize}   =20\r\n    \\item name\r\n    \\item pos\r\n    \\item time\r\n    \\item extension\r\n    \\item PHA=20\r\n\\end{itemize}\r\n\r\n\\subsubsection{Vizier}=20\r\nAll possible measure are present in Vizier in addition to lots of associate=\r\nd data=20\r\n\\begin{itemize}   =20\r\n    \\item pre-existing data\r\n    \\item grouping columns\r\n    \\item lots of available metadata\r\n    \\item column name formatting\r\n    \\item one column different frames\r\n\\end{itemize}\r\n\r\n\\subsubsection{Aladin}\r\n\r\nQuantities possibly plotted or matched with some of other datasets\r\n\\begin{itemize}\r\n    \\item position\r\n    \\item time\r\n    \\item flux\r\n    \\item link\r\n    \\item FoV\r\n    \\item column grouping\r\n\\end{itemize}\r\n\r\n\\subsubsection{X\\-match}\r\n\\begin{itemize}\r\n    \\item Identifier\r\n    \\item position\r\n    \\item proper motion\r\n    \\item photometry\r\n\\end{itemize}\r\n\r\n\\subsubsection{Time Domain}\r\n\\begin{itemize}\r\n    \\item Identifier: object identifier\r\n    \\item Position: moving object\r\n    \\item Associated products: time series of e.g. a spectrum or an image\r\n    \\item Photometry: for light curves\r\n    \\item Timestamp: Independent axis of the time series\r\n\\end{itemize}\r\n\r\n\r\n\\begin{table}[ht!]\r\n     \\tiny\r\n     \\begin{tabular}{|p{2.4cm}|p{0.4cm}|p{0.4cm}|p{0.4cm}|p{0.6cm}|p{0.4cm}=\r\n|p{0.4cm}|p{0.4cm}|p{0.4cm}|p{0.4cm}|}\r\n       \\hline Quantity &  Ga &  Eu &  Ex &  MCS  &  Ch&  Vi &  Al &  Xm&  T=\r\nD \\\\\r\n       \\hline  \\texttt{identifier}      &  p & P  &P& &P&P &P&  & P \\\\     =\r\n        =20\r\n       \\hline  \\texttt{position}      &  p & P  &P& &P&P &P&  & P \\\\      =\r\n=20\r\n       \\hline  \\texttt{pr. motion}   & p &   &   &    &  &   &P&P&    \\\\   =\r\n   =20\r\n       \\hline  \\texttt{distance}     & p &   &   &    &  &   &P&  &    \\\\  =\r\n    =20\r\n       \\hline  \\texttt{correlation}   & AD &AD&   &    &  &AD &   &  &    \\=\r\n\\      =20\r\n       \\hline  \\texttt{extension}     &P&   &P&P &P&P& P&  &    \\\\      =20\r\n       \\hline  \\texttt{rad. vel.}       &  P &   &   &    &  &P&   &  &    =\r\n\\\\      =20\r\n       \\hline  \\texttt{redshift}        &  P &P&   &    &  &P&   &  &    \\\\=\r\n            =20\r\n       \\hline  \\texttt{phot. rsft}      &   &P&   &    &  &P&   &  &    \\\\ =\r\n     =20\r\n       \\hline  \\texttt{luminosity}    & P&P&   &    &  &P&P&P&P\\\\      =20\r\n       \\hline  \\texttt{date}             & P  &   &   &    & P&P&   &  &P\\\\=\r\n      =20\r\n       \\hline  \\texttt{detections}    &  AD &   &   &    &  &   &   &  &   =\r\n \\\\      =20\r\n       \\hline  \\texttt{orbit}             &   &   &P& &  &   &   &  &    \\\\=\r\n      =20\r\n       \\hline  \\texttt{type}             &   &   & P& &  &P&   &  &    \\\\  =\r\n   =20\r\n       \\hline  \\texttt{status}          &   &   &   &    &  &P&   &  &    \\=\r\n\\      =20\r\n       \\hline  \\texttt{orb. sys.}      &   &   &   &    &  &   &   &  &    =\r\n\\\\      =20\r\n       \\hline  \\texttt{PHA}            &   &   &   &    &P&   &   &  &    \\=\r\n\\      =20\r\n       \\hline  \\texttt{ass. prd.}     &   &   &   &    &  &AD&   &  &AD \\\\ =\r\n     =20\r\n       \\hline=20\r\n     \\end{tabular}\r\n     \\caption{ \\texttt{P} parameter, \\texttt{AD} Associated data}=20\r\n \\end{table}\r\n\r\n\r\n\\begin{table}[ht!]\r\n     \\tiny\r\n     \\begin{tabular}{|p{2.4cm}|p{1.8cm}|p{7cm}|}\r\n       \\hline Quantity &  Model &  \\\\\r\n       \\hline  \\texttt{identifier}      & Mango & required for anu instance=\r\n\\\\                   =20\r\n       \\hline  \\texttt{position}      &  Meas &  \\\\      =20\r\n       \\hline  \\texttt{pr. motion}   & Meas &     \\\\      =20\r\n       \\hline  \\texttt{distance}     & Ext Meas &     \\\\      =20\r\n       \\hline  \\texttt{correlation}   & Ass data & reference to other Mango=\r\n instances     \\\\      =20\r\n       \\hline  \\texttt{extension}     & Ext Meas & Can be used for FoV, mor=\r\nphlogy or shape\\\\      =20\r\n       \\hline  \\texttt{rad. vel.}       &  Ext Meas  &       \\\\      =20\r\n       \\hline  \\texttt{redshift}        &   Ext Meas  &  \\\\            =20\r\n       \\hline  \\texttt{phot. rsft}      & Ext Meas&    \\\\      =20\r\n       \\hline  \\texttt{luminosity}    & Ext Meas&\\\\      =20\r\n       \\hline  \\texttt{date}             & Meas & date or time stamp\\\\     =\r\n =20\r\n       \\hline  \\texttt{detections}    & Ass data & reference to other Mango=\r\n instances   \\\\      =20\r\n       \\hline  \\texttt{orbit}             & Ext Meas&      \\\\      =20\r\n       \\hline  \\texttt{type}             &Ext Meas&     \\\\     =20\r\n       \\hline  \\texttt{status}          &Ext Meas&     \\\\      =20\r\n       \\hline  \\texttt{orb. sys.}      &Ext Meas&     \\\\      =20\r\n       \\hline  \\texttt{PHA}            &Ext Meas&     \\\\      =20\r\n       \\hline  \\texttt{ass. prd.}     &Ass data&  \\\\      =20\r\n       \\hline=20\r\n     \\end{tabular}\r\n     \\caption{ \\texttt{Meas} Measue class, \\texttt{Ext Meas } Measure exten=\r\nsion, \\texttt{Ass data  } Mangno associated data}=20\r\n \\end{table}\r\n\r\n\\section{Model Overview}\r\n\r\n\\begin{figure}\r\n\\includegraphics[width=3D0.9\\textwidth]{../model/overview_diagram.png}\r\n\\caption{Mango overview}\r\n\\label{fig:overview}\r\n\\end{figure}\r\n\r\nThe root class of the model is the \\texttt{Source} class that has only one =\r\nattribute, the identifier, that is the only quantity common to  all  Mango =\r\ninstances.\r\n\r\nEach quantity or associated data attached to a source is represented by a c=\r\nonnector describing the nature of either the quantity or of the associated =\r\ndata.\r\n\r\nThere is no restriction on the set of connectors attached to one source.\r\nThere are 2 classes of connectors\r\n\r\n\\subsection{The parameters}=20\r\nParameter connectors are used to bind measures with the source. One connect=\r\nor can only reference one measure. The measure itself is modeled by a class=\r\n of the Measure model or by an extension of this model. Measure extensions =\r\nare part of Mango.=20\r\nIn addition to its class, the nature of a measure is given by a UCD and a s=\r\nemantic tag. The UCD gives the physical meaning of the measure whereas the =\r\nsemantic tag says more about the usage context of the measure. This can be =\r\nfor instance the reduction status (raw, corrected). The vocabulary allowed =\r\nfor the semantic is managed as a VO vocabulary.=20\r\n\r\n\\subsubsection{Parameter UCD}\r\n\r\n\\begin{table}[ht!]\r\n     \\begin{tabular}{|p{4cm}|p{3cm}|p{3.5cm}|}\r\n       \\hline Parameter &  Original model & UCDs 1+ first word  \\\\\r\n       \\hline  \\texttt{Position}             &  Measure  &  pos \\\\      =20\r\n       \\hline  \\texttt{Velocity  }            &  Measure & phys.veloc      =\r\n\\\\             =20\r\n       \\hline  \\texttt{Proper motion}    & Measure & pos.pm    \\\\      =20\r\n       \\hline  \\texttt{Time}                   & Measure &  time.epoch   \\\\=\r\n      =20\r\n       \\hline  \\texttt{Polarization}         & Measure & phys.polarization =\r\n\\\\     =20\r\n       \\hline  \\texttt{SphericalSkyPosition}    &  Mango  &  pos.eq \\\\     =\r\n =20\r\n       \\hline  \\texttt{ObjectType}                   &  Mango  & src.class =\r\n\\\\      =20\r\n       \\hline  \\texttt{Redshift}                        &  Mango  & src.red=\r\nshift \\\\      =20\r\n       \\hline  \\texttt{Luminosity}                    &  Mango  & phot.qqqc=\r\nhose \\\\\r\n       \\hline  \\texttt{HardnessRatio}             &  Mango  & phot.flux;ari=\r\nth.ratio \\\\\r\n       \\hline  \\texttt{Shape}                     &  Mango  & phys.area \\\\\r\n       \\hline  \\texttt{Flag}                        &  Mango  & meta.code  =\r\n\\\\\r\n       \\hline  \\texttt{Orbit}                       &  Mango  & src.orbital=\r\n \\\\   =20\r\n       \\hline  \\texttt{GenericMeasure}    &  Measure  &  Appropiate physica=\r\nl UCD \\\\   =20\r\n       \\hline=20\r\n     \\end{tabular}\r\n     \\caption{ UCDs to be set for the supported parameters}=20\r\n     \\label{tab:ucds}\r\n \\end{table}\r\n\r\nTBC phys.luminosity  vs phot.flux\r\najoutdr une temperature\r\n\r\n\\subsection{Associated Data}=20\r\nAssociated data connectors are used to bind any sort of complex data with t=\r\nhe source. One connector can only refer to one dataset. Associated data can=\r\n be either URIs (VO services or not) or reference to instances of other VO =\r\nmodels (Obscore, Provenance=E2=80=A6).\r\n\r\nAttaching VO model instances to sources does not mean that these  models mu=\r\nst be imported. The merge between a Mango instance and one associated insta=\r\nnce is operated by the data annotation process. The indication given by Man=\r\ngo tell the client how to interpret the embedded instance\r\n\r\n\\subsection{STC Extension}=20\r\n\r\nAll STC measures are built upon the same pattern (see fig \\ref{fig:stcpatte=\r\nrn}). The value(s) \\texttt{Measure} object is carried by a \\texttt{Coordina=\r\nte} object. The coordinate is attached to a system (class \\texttt{CoordSys}=\r\n). The system has 2 components 1) the space  (class \\texttt{CoordSpace}) th=\r\nat describes the axis and 2) the frame    \\texttt{CoordFrame}).  All Mango =\r\nparameters are based on this pattern. Native STC classes are used when poss=\r\nible. Others parameters are built by extending STC classes . Figure \\ref{fi=\r\ng:stcpattern}) shows the extended STC classes being part of Mango=20\r\n\\begin{figure}\r\n     \\includegraphics[width=3D0.9\\textwidth]{stc_pattern.png}\r\n     \\caption{STC pattern (simplified view)}\r\n     \\label{fig:stcpattern}\r\n\\end{figure}\r\n\r\n\\begin{figure}\r\n  \\includegraphics[angle=3D90,origin=3Dc,width=3D1\\textwidth]{../model/stc_=\r\next_diagram.png}\r\n  \\caption{STC extension diagram }\r\n  \\label{fig:stcextension}\r\n\\end{figure}\r\n\r\n\r\n\\input{model.tex}\r\n\r\n\\section{TAP and Mango}\r\nThis not normative section gives possible tips to save and discover Mango i=\r\nnstances in TAP services.\r\nWe suppose that the TAP service hosts catalogs which sources are Mango inst=\r\nances. These catalogs are named \\emph{Mango Catalogs}.\r\n\r\n\\subsection{Storing Mango Catalogs in TAP}\r\nFor now this section only concerns the parameter. The associated data will =\r\nbe taken into account later.\r\n\r\n\\begin{itemize}\r\n  \\item One master table for the catalogs with various meta-data out of the=\r\n Mango scope plus a unique identifier (primary key)\r\n  \\item One master sources table for the source instances with the catalog =\r\nidentifier and a primary key safer than the Mango identifier.\r\n  \\item One table for each supported parameter with a foreign key for the j=\r\noin with the master source table\r\n\\end{itemize}\r\n\r\nAlthough the model of the measures is hierarchical, it should be possible t=\r\no flatten them in one single table considering that the model structure can=\r\n be retrieved with the TAP\\_SCHEMA annotations (TBC)=20\r\n\r\nThis schema requires the server to explore all the parameter tables to retr=\r\nieve  whole Mango instances. This process can be speed up by using the \\emp=\r\nh{MangoCore} table.\r\n\r\n\\subsection{ \\emph{MangoCore} Table}\r\n\r\nThe discovery of \\emph{Mango Catalogs} can be helped by a  \\emph{MangoCore}=\r\n table located in the  \\emph{schema} schema. As Mango is not dedicated to a=\r\nny specific domain, we cannot define a set of core parameters, but paramete=\r\nrs can be flagged as \\emph{Core Parameter}. This selection is left at the d=\r\niscretion of the curator.\r\nThe \\emph{MangoCore} table has set of columns per parameter class plus one =\r\nfor the catalog ID. It has one row per stored catalog. Each parameter has a=\r\nt least 2 columns: one with the UCD an one with the \\emph{Core} flag. TBC\r\n\r\n\r\n\\appendix\r\n\\section{Changes from Previous Versions}\r\n\r\nNo previous versions yet. =20\r\n% these would be subsections \"Changes from v. WD-...\"\r\n% Use itemize environments.\r\n\r\n\r\n% NOTE: IVOA recommendations must be cited from docrepo rather than ivoabib\r\n% (REC entries there are for legacy documents only)\r\n\\bibliography{myrefs,ivoatex/ivoabib,ivoatex/docrepo}\r\n\r\n\r\n\\end{document}\r\n"
    },
    "date": "Tue, 26 May 2020 14:14:04 +0200"
}