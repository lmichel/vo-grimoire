{
    "from": "Laurent MICHEL <laurent.michel@astro.unistra.fr>",
    "body": "code\r\n-- \r\n---- English version:\r\n      https://www.deepl.com/\r\n\r\n---- Laurent MICHEL              Tel  (33 0) 3 68 85 24 37\r\n      Observatoire de Strasbourg  Fax  (33 0) 3 68 85 24 32\r\n      11 Rue de l'Universite      Mail laurent.michel@astro.unistra.fr\r\n      67000 Strasbourg (France)   Web  http://astro.u-strasbg.fr/~michel\r\n---\r\n",
    "in-reply-to": "none",
    "timestamp": 1590495346.0,
    "id": "<b1ffbf47-2e17-c5a7-dd9a-45694a5a0540@astro.unistra.fr>",
    "references": "none",
    "subject": "JAVASCRIPT",
    "data": "none",
    "to": "cisternino enzo <enzo_cisternino@hotmail.fr>",
    "num": "test4",
    "maillist": "test",
    "numThread": -1,
    "attachements": {
        "application/x-javascript__0": "var TapCatalog = function(){\r\n\tvar setTapTableAsMaster = function(bag){\r\n\t\tvar url_base = bag.url_base+\"sync?RUNID={$RUNID}&REQUEST=doQuery&lang=ADQL&query={$query}\";\r\n\t\tvar index = bag.url_query.indexOf(\"CIRCLE\");\r\n\t\tbag.url_query = bag.url_query.slice(0,index);\r\n\t\tbag.url_query = bag.url_query+\" CIRCLE('ICRS', {$ra}, {$dec}, {$fov})) = 1)\";\r\n\t\tvar url_query = bag.url_query;\r\n\t\tvar RUNID = bag.RUNID;\r\n\t\tvar format = bag.format;\r\n\t\tvar label = bag.label;\r\n\t\tmasterResource={\r\n\t\t\t\taffichage :{\r\n\t\t\t\t\tlocation :{\r\n\t\t\t\t\t\t//url_base: \"http://saada.unistra.fr/3xmmdr8/getqueryreport?query={$query}&format={$format}&protocol=auto\",\r\n\t\t\t\t\t\t//url_base: \"http://simbad.u-strasbg.fr/simbad/sim-tap/sync?query={$query}&format={$format}&lang=ADQL&request=doQuery\",\r\n\t\t\t\t\t\t//url_base: \"http://vao.stsci.edu/CAOMTAP/TapService.aspx/sync?query={$query}&format={$format}&lang=ADQL&request=doQuery\",\r\n\t\t\t\t\t\t//url_base: \"http://vao.stsci.edu/CAOMTAP/TapService.aspx/sync?RUNID={$RUNID}&REQUEST=doQuery&lang=ADQL&query={$query}\",\r\n\t\t\t\t\t\turl_base : url_base,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//url_query: \"Select ENTRY From MergedEntry In MERGEDCATALOGUE WherePosition {isInCircle({$ra} {$dec}, {$fov},-, ICRS)} {$limitQuery}\",\r\n\t\t\t\t\t\t//url_query: \"SELECT TOP 10000 * FROM \\\"public\\\".basic WHERE CONTAINS(POINT(\\'ICRS\\', ra, dec), CIRCLE(\\'ICRS\\', {$ra}, {$dec}, {$fov})) = 1\",\r\n\t\t\t\t\t\t//url_query: \"SELECT  TOP 100 * FROM ivoa.obscore WHERE CONTAINS(POINT('ICRS', s_ra, s_dec), CIRCLE('ICRS', {$ra}, {$dec}, {$fov})) = 1\",\r\n\t\t\t\t\t\t//url_query:  \"SELECT TOP 100 * FROM ivoa.obscore WHERE CONTAINS(POINT('ICRS', s_ra, s_dec), CIRCLE('ICRS', {$ra}, {$dec}, {$fov})) = 1\",\r\n\t\t\t\t\t\turl_query : url_query\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprogressiveMode: false,\r\n\t\t\t\t\tRUNID : RUNID,\r\n\t\t\t\t\tradiusUnit : 'deg',\r\n\t\t\t\t\tformat : format,\r\n\t\t\t\t\tlabel : label,\r\n\t\t\t\t\tdescription: \"Texte plus complet qui donne plus d'informations\",\r\n\t\t\t\t\tdisplay:true\r\n\t\t\t\t},\r\n\t\t\t\tactions : {\r\n\t\t\t\t\tshowAssociated :{\r\n\t\t\t\t\t\tactive:false,\r\n\t\t\t\t\t\thandlerFadeOut: true,\r\n\t\t\t\t\t\thandlerDeleteSource: true\r\n\t\t\t\t\t\t//This function is to delete the associated blue sources and unselect the source when we click the empty part of AladinLite.  \r\n\t\t\t\t\t},\r\n\t\t\t\t\tshowPanel :{\r\n\t\t\t\t\t\tactive:true\r\n\t\t\t\t\t\t//It's to show or hide the panel of detail. \r\n\t\t\t\t\t},\r\n\t\t\t\t\texternalProcessing : {\r\n\t\t\t\t\t\tlabel: \"Show details\",\r\n\t\t\t\t\t\tdescription: \"The function is called when we click a source. We can import other scripts to show more details about the source selected\",\t\r\n\t\t\t\t\t\thandlerSelect: function(data,showPanel){\r\n\t\t\t\t\t\t\tVizierCatalogue.showSourceData(data);\r\n\t\t\t\t\t\t\t//CatalogMerged_mVc.draw(data,showPanel);\r\n\t\t\t\t\t\t\t//The callback is called when we click a source. We can import other scripts to show more details about the source selected.\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\thandlerDeselect : function(){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\thandlerInitial: function(){\r\n\t\t\t\t\t\t\t//SourceFilter_mVc.draw();\r\n\t\t\t\t\t\t}//The handlerFilter function will be called in the beginning when the web is loaded.\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n   \t\tAladinLiteX_mVc.changeMasterResource(masterResource);\r\n\t}\r\n\tvar retour = {\r\n\t\t\tsetTapTableAsMaster:setTapTableAsMaster\t\r\n\t}\r\n\t\r\n\treturn retour;\r\n\t\r\n}();"
    },
    "date": "Tue, 26 May 2020 14:15:46 +0200"
}